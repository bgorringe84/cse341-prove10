<%- include('../partials/header.ejs') %>
<link rel="stylesheet" type="text/css" href="/stylesheets/forms.css" />
</head>

<body>
   <%- include('../partials/nav.ejs') %>
   <h1>Login Page</h1>
   <main>
      <div class="main">
         <div class="col-md-6 col-sm-12">
            <form class="login-form" action="/login" method="POST">
                  <div class="form-group">
                     <label for="email">E-mail</label>
                     <input
                        class="<%= validationErrors.find(e => e.param === 'email') ? 'form-control is-invalid' : 'form-control' %>"
                        type="text"
                        name="email" 
                        id="email" 
                        value="<%= oldInput.email %>">
                  </div>
                  <div class="form-group">
                     <label for="password">Password</label>
                     <input
                        class="<%= validationErrors.find(e => e.param === 'password') ? 'form-control is-invalid' : 'form-control' %>"
                        type="password" 
                        name="password" 
                        id="password" 
                        value="<%= oldInput.password %>">
                  </div>
                  <button type="submit" class="btn btn-sm btn-outline-secondary">Login</button>
                  <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                  <a href="/reset-password"><br><br><p>Forgot Password?</p></a>
                  <% if (errorMessage) { %>
                     <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <strong>Holy guacamole!</strong> <p><span style="color: red;"><%= errorMessage %></span></p>
                      </div>
                 <% } %>
            </form>
         </div>
      </div>
   </main>
    <%- include('../partials/footer.ejs') %>